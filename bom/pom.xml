<?xml version="1.0" encoding="UTF-8"?>
<!-- 
===============================================================================
  ðŸ“¦ MuleSoft BOM (Bill of Materials) - common-bom
===============================================================================
  ðŸŽ¯ Objetivo:
    â€¢ Centralizar e padronizar **versÃµes** (connectors, libs MUnit, plugins) 
      e **propriedades** fundamentais para projetos MuleSoft.  
    â€¢ Facilitar a governanÃ§a de versÃµes, evitando conflitos e garantindo 
      consistÃªncia em vÃ¡rios ambientes (Dev, QA, Prod).

===============================================================================
  âœ Autor     : Leonel Dorneles Porto  
  ðŸ“§ Email     : leoneldornelesporto@outlook.com.br  
  â˜Ž Telefone  : +55 53 99180-4869
===============================================================================
  ðŸ“š DescriÃ§Ã£o:
    - Garante que todos os projetos MuleSoft (ou um Parent POM) possam
      **importar** este BOM para ter as **mesmas versÃµes** de runtime, 
      conectores, MUnit etc.
    - Eventualmente, tambÃ©m contÃ©m propriedades de CloudHub (env, region)
      caso desejado â€“ porÃ©m, **geralmente** sÃ£o colocadas no Parent POM.
    - Cada time/organizaÃ§Ã£o pode ajustar livremente conforme suas polÃ­ticas.
===============================================================================
-->
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
                             https://maven.apache.org/xsd/maven-4.0.0.xsd">

    <!-- (1) VersÃ£o do Modelo do POM -->
    <modelVersion>4.0.0</modelVersion>

    <!-- 
    =============================================================================
     (2) IdentificaÃ§Ã£o do BOM
       - groupId/artifactId/version ajustados Ã  organizaÃ§Ã£o.
       - packaging = pom (modelo BOM).
    =============================================================================
    -->
    <groupId>37a4147b-4673-4cb6-b589-358074a13f8c</groupId>
    <artifactId>common-bom</artifactId>
    <version>2.0.0</version>
    <packaging>pom</packaging>

    <name>common-bom</name>
    <description>ðŸ“¦ BOM (Bill of Materials) para padronizaÃ§Ã£o de dependÃªncias, versÃµes de conectores e bibliotecas MuleSoft. Evita conflitos e garante consistÃªncia em ambientes Dev, QA e ProduÃ§Ã£o.</description>

    <!-- 
    =============================================================================
     (3) PROPRIEDADES
       - Focadas em **versÃµes** e, opcionalmente, 
         algumas props de CloudHub ou MUnit, se desejado.
    =============================================================================
    -->
    <properties>
        <!-- ðŸŒ ENCODING / BUILD -->
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
        <java.version>8</java.version>

        <!-- ðŸ· Mule Runtime e Release Channel (LTS/EA) -->
        <app.runtime>4.6.14</app.runtime>
        <releaseChannel>LTS</releaseChannel>

        <!-- ðŸ”§ Plugins de Build (Mule Maven, MUnit etc.) -->
        <mule.maven.plugin.version>4.4.0</mule.maven.plugin.version>
        <munit.version>3.2.1</munit.version>
        <assertions.version>1.0.2</assertions.version>
        <maven-clean-plugin.version>3.0.0</maven-clean-plugin.version>

        <!-- ðŸ”Œ Conectores Mule (HTTP, Sockets, etc.) -->
        <http.connector.version>1.10.3</http.connector.version>
        <sockets.connector.version>1.2.5</sockets.connector.version>

        <!-- ðŸ” Chave e RepositÃ³rio -->
        <key>Chave descript aqui...</key>
        <serverId>Repository</serverId>
        <anypoint.platform.url>https://anypoint.mulesoft.com</anypoint.platform.url>
        <base.maven.anypoint.url>https://maven.anypoint.mulesoft.com/api/v2</base.maven.anypoint.url>
        <anypoint.exchange.v3.url>${base.maven.anypoint.url}/maven</anypoint.exchange.v3.url>
        <private.exchange.url>${base.maven.anypoint.url}/organizations/${project.groupId}/maven</private.exchange.url>
		<!-- ðŸŒ RepositÃ³rio de Releases da MuleSoft -->
		<mulesoft.releases.repo.url>https://repository.mulesoft.org/releases/</mulesoft.releases.repo.url>


        <!-- ðŸ—„ Layouts de RepositÃ³rio -->
        <mulesoft-releases.layout>default</mulesoft-releases.layout>
        <anypoint-exchange-v3.layout>default</anypoint-exchange-v3.layout>
        <private-exchange-repository.layout>default</private-exchange-repository.layout>
        <corporate-repository.layout>default</corporate-repository.layout>
    </properties>

    <!-- 
    =============================================================================
     (4) DEPENDENCY MANAGEMENT
       â€¢ Controla versÃµes de libs Mule (HTTP, Sockets, MUnit, etc.).
       â€¢ Projetos (ou um Parent POM) importam estas versÃµes via <dependencyManagement>.
    =============================================================================
    -->
    <dependencyManagement>
        <dependencies>
            <!-- ðŸ§ª MUnit Assertions (DataWeave) -->
            <dependency>
                <groupId>org.mule.weave</groupId>
                <artifactId>assertions</artifactId>
                <version>${assertions.version}</version>
                <scope>test</scope>
            </dependency>

            <!-- ðŸ§© MUnit Tools (mule-plugin) -->
            <dependency>
                <groupId>com.mulesoft.munit</groupId>
                <artifactId>munit-tools</artifactId>
                <version>${munit.version}</version>
                <classifier>mule-plugin</classifier>
                <scope>test</scope>
            </dependency>

            <!-- ðŸŒ HTTP Connector para Mule 4 -->
            <dependency>
                <groupId>org.mule.connectors</groupId>
                <artifactId>mule-http-connector</artifactId>
                <version>${http.connector.version}</version>
                <classifier>mule-plugin</classifier>
            </dependency>

            <!-- ðŸƒ Runner do MUnit (mule-plugin) -->
            <dependency>
                <groupId>com.mulesoft.munit</groupId>
                <artifactId>munit-runner</artifactId>
                <version>${munit.version}</version>
                <classifier>mule-plugin</classifier>
                <scope>test</scope>
            </dependency>

            <!-- ðŸ’» Conector de Sockets (opcional) -->
            <dependency>
                <groupId>org.mule.connectors</groupId>
                <artifactId>mule-sockets-connector</artifactId>
                <version>${sockets.connector.version}</version>
                <classifier>mule-plugin</classifier>
            </dependency>
        </dependencies>
    </dependencyManagement>

    <!-- 
    =============================================================================
     (5) REPOSITORIES 
       â€¢ Onde o Maven busca dependÃªncias para os conectores e libs Mule.
    =============================================================================
    -->
    <repositories>
        <!-- RepositÃ³rio do Anypoint Exchange v3 -->
        <repository>
            <id>anypoint-exchange-v3</id>
            <name>Anypoint Exchange</name>
            <url>${anypoint.exchange.v3.url}</url>
            <layout>${anypoint-exchange-v3.layout}</layout>
        </repository>

        <!-- RepositÃ³rio de releases da MuleSoft -->
        <repository>
            <id>mulesoft-releases</id>
            <name>MuleSoft Releases Repository</name>
            <url>https://repository.mulesoft.org/releases/</url>
            <layout>${mulesoft-releases.layout}</layout>
        </repository>

        <!-- RepositÃ³rio privado / personalizado -->
        <repository>
            <id>${serverId}</id>
            <name>Private Exchange repository</name>
            <url>${private.exchange.url}</url>
            <layout>${private-exchange-repository.layout}</layout>
        </repository>
    </repositories>

    <!-- 
    =============================================================================
     (6) PLUGIN REPOSITORIES
       â€¢ Onde Maven busca plugins Mule e MUnit.
    =============================================================================
    -->
    <pluginRepositories>
        <pluginRepository>
            <id>mulesoft-releases</id>
            <name>MuleSoft Releases Repository</name>
            <layout>${mulesoft-releases.layout}</layout>
            <url>https://repository.mulesoft.org/releases/</url>
            <snapshots>
                <enabled>false</enabled>
            </snapshots>
        </pluginRepository>
    </pluginRepositories>

    <!-- 
    =============================================================================
     (7) DISTRIBUTION MANAGEMENT
       â€¢ PublicaÃ§Ã£o do BOM no Exchange, caso deseje compartilhÃ¡-lo.
    =============================================================================
    -->
    <distributionManagement>
        <repository>
            <id>${serverId}</id>
            <name>Corporate Repository</name>
            <url>${private.exchange.url}</url>
            <layout>${corporate-repository.layout}</layout>
        </repository>
    </distributionManagement>

</project>
